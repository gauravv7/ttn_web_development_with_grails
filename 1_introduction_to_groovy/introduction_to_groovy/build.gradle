apply plugin: 'groovy'
apply plugin : 'application'
mainClassName = 'Main'
sourceCompatibility = 1.8
version = '1.0'


configurations {
    // configuration that holds jars to include in the jar
    extraLibs
}


repositories {
    jcenter()
}

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.4.9'
    extraLibs group: 'org.codehaus.groovy', name: 'groovy-all', version: '2.4.9'
    configurations.compile.extendsFrom(configurations.extraLibs)
}




sourceSets.main.java.srcDirs = []
sourceSets.main.groovy.srcDirs = ["src/main/java", "src/main/groovy"]

jar {

    from {
        configurations.extraLibs.collect { it.isDirectory() ? it : zipTree(it) }
    }

    manifest {
        attributes (
                'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
                'Main-Class': mainClassName
        )
    }
}